<!doctype html>
<html lang="en">

<head>
  <title>Blog Admin Page</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <!--     Fonts and icons     -->
  <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
</head>

<body>
  <nav class="navbar navbar-color-on-scroll navbar-transparent fixed-top navbar-expand-lg" color-on-scroll="100">
    <div class="container">
      <div class="navbar-translate">
        <a class="navbar-brand" href="https://demos.creative-tim.com/material-kit/index.html">
          Blog Admin Page </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="sr-only">Toggle navigation</span>
          <span class="navbar-toggler-icon"></span>
          <span class="navbar-toggler-icon"></span>
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="#">Hey</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="page-header header-filter" data-parallax="true" style="background-image: url('assets/img/bg2.jpg')">
    <div class="container">
      <div class="row">
        <div class="col-md-8 ml-auto mr-auto">
          <div class="brand text-center">
            <h1>Blog Admin Page</h1>
            <h3 class="title text-center">Admin page to interact with the blog server made with Rust and MongoDB</h3>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="main main-raised">
    <div class="container">
      <div class="section text-center">
        <h2 class="title">New Blog Entry</h2>
        <form method="POST" enctype="multipart/form-data" action="http://159.89.48.157:10443/manage/add">
          <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" id="title" name="title">
          </div>
          <div class="form-group">
            <label for="text">Text</label>
            <input class="form-control" id="text" name="text">
          </div>
          <div class="form-group">
            <label for="Story">Story</label>
            <input type="text" class="form-control" id="story" name="story">
          </div>
          <div class="form-group">
            <label for="date">Date</label>
            <input type="text" class="form-control" id="date" name="date">
          </div>
          <div class="form-group">
            <label for="files">Attachments</label>
            <input type="file" multiple class="form-control" id="files" name="files">
          </div>
          <button type="submit" class="btn btn-primary">Post</button>
        </form>
      </div>
      <h2 class="title">Database</h2>
      <table class="table table-striped">
        <thead class="bg-dark text-light">
          <tr>
            <th>Blog</th>
            <th>Blog Data</th>
          </tr>
        </thead>
        <tbody id="urls">
        </tbody>
      </table>
    </div>
  </div>
  <footer class="footer footer-default">
    <div class="container">
      <nav class="float-left">
        <ul>
          <li>
            <a href="https://paz.ienza.tech/master">
              Ben's Website
            </a>
          </li>
        </ul>
      </nav>
      <div class="copyright float-right">
        &copy;
        <script>
          document.write(new Date().getFullYear())
        </script>
        - Theme from <a href="https://www.creative-tim.com/" target="blank">Creative Tim</a>
      </div>
    </div>
  </footer>
  <script>


    function getBlogs() {
      $.ajax({
        method: "GET",
        url: "localhost:10443/manage/all",
        success: function(response) {
            let tbody = document.getElementById("urls");
            let urls = JSON.parse(response);
            console.log(urls);
        },
        error: function(error) {
          console.log(error);
        }
      })
    }

    // window.onload = getUrls;

    $(document).ready(getUrls);
  </script>

  <div class="d-flex justify-content-center build-number" style="margin-top: -100px">
      <!--build_number-->
  </div>
</body>

</html>
