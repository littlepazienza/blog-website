<!--
  Spotify Activity Widget
  --------------------------------------------------------------
  Displays a list of recently-played tracks once data is available.
  Consistent with other widgets:
    • Loading state
    • Empty state
    • Populated list
    • Profile link
  NOTE: Uses template bindings (`loading`, `tracks`) that will be
  provided by the component’s TypeScript file.
-->

<!-- Loading State -->
<div class="widget-loading" *ngIf="loading">
  <p>Loading Spotify activity&hellip;</p>
</div>

<!-- Empty State -->
<div class="widget-empty" *ngIf="!loading && recentTracks?.length === 0">
  <p>No recent Spotify activity.</p>
</div>

<!-- Recently Played Tracks -->
<ul class="recent-track-list"
    *ngIf="!loading && recentTracks && recentTracks.length > 0">
  <li class="track-item" *ngFor="let track of recentTracks">
    <!-- Album Art -->
    <img class="album-art"
         [src]="track?.track?.album?.images?.[0]?.url"
         [alt]="(track?.track?.album?.name || 'album') + ' album art'">

    <!-- Track Info -->
    <div class="track-info">
      <span class="track-name">{{ track?.track?.name }}</span>
      <span class="track-artist">{{ track?.track?.artists?.[0]?.name }}</span>
    </div>
  </li>
</ul>

<!-- Spotify Profile Link -->
<div class="profile-link">
  <a href="https://open.spotify.com/user/{{ spotifyUserId }}"
     target="_blank" rel="noopener">
    View full listening profile on Spotify →
  </a>
</div>
